<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <link rel="apple-touch-icon" sizes="76x76" href="./img/apple-icon.png" />
    <link rel="icon" type="image/png" href="./img/favicon.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>SIAK - Beranda</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <!-- CSS Files -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/now-ui-kit.css?v=1.1.0" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="/css/demo.css" rel="stylesheet" />
</head>

<body class="profile-page sidebar-collapse">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-primary fixed-top navbar-transparent " color-on-scroll="400">
        <div class="container">
            <div class="dropdown button-dropdown">
                <a href="#pablo" class="dropdown-toggle" id="navbarDropdown" data-toggle="dropdown">
                    <span class="button-bar"></span>
                    <span class="button-bar"></span>
                    <span class="button-bar"></span>
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-header">Dropdown header</a>
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Separated link</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">One more separated link</a>
                </div>
            </div>
            <div class="navbar-translate">
                <a class="navbar-brand" href="http://demos.creative-tim.com/now-ui-kit/index.html" rel="tooltip" title="Designed by Invision. Coded by Creative Tim" data-placement="bottom" target="_blank">
                    Now Ui Kit
                </a>
                <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-bar bar1"></span>
                    <span class="navbar-toggler-bar bar2"></span>
                    <span class="navbar-toggler-bar bar3"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse justify-content-end" id="navigation" data-nav-image="/img/blurred-image-1.jpg">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/creativetimofficial/now-ui-kit/issues">Mahasiswa</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/creativetimofficial/now-ui-kit/issues">IRS</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/creativetimofficial/now-ui-kit/issues">Riwayat</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End Navbar -->
    <div class="wrapper">
        <div class="page-header page-header-small" filter-color="orange">
            <div class="page-header-image" data-parallax="true" style="background-image: url('/img/UI.jpg');">
            </div>
            <div class="container">
                <div class="content-center">
                    <h1 class="title">UBAH IRS</h1>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3">
                        <div >
                            <!-- Tabs with Background on Card -->
                            <div class="card">
                                <ul class="nav nav-tabs nav-tabs-neutral justify-content-center" role="tablist" data-background-color="orange">
                                </ul>
                                <div class="card-body">
                                    <!-- Tab panes -->
                                    <div class="tab-content">
                                        <p>SKS Dapat Diambil</p>
                                        <h2>24</h2>
                                        <p>SKS Diambil</p>
                                        <h2>0</h2>
                                        <p>Term</p>
                                        <h5>GASAL 2017/2018</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9">
                        <div>
                            <!-- Tabs with Background on Card -->
                            <div class="card">
                                <ul class="nav nav-tabs nav-tabs-neutral justify-content-center" role="tablist" data-background-color="orange">
                                </ul>
                                <h3 class="title">Daftar Kelas</h3>
                                <div class="card-body" id="checkRadios">
                                    <!-- Tab panes -->
                                    <div class="justify-content-left"><h5>CSC1234567 - Sistem Interaksi</h5></div>
                                    <form>
                                        <div class="tab-content text-center">
                                            <div class="tab-pane active" id="home1" role="tabpanel">
                                                <table class="table table-striped table-responsive">
                                                    <thead>
                                                    <tr>
                                                        <th class="text-center">Kelas</th>
                                                        <th class="text-center">Dosen</th>
                                                        <th class="text-center">Ruangan</th>
                                                        <th class="text-center">Jadwal</th>
                                                        <th class="text-center"></th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <td>A</td>
                                                        <td>Harry Budi Santoso, PhD</td>
                                                        <td>2404</td>
                                                        <td>Selasa, 08.00 - 09.50<br/>Kamis, 10.00 - 10.50</td>
                                                        <td>
                                                            <input type="radio" id="1" class="radio" name="1" value="1" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>B</td>
                                                        <td>Harry Budi Santoso, PhD</td>
                                                        <td>2307<br/>2303</td>
                                                        <td>Rabu, 08.00 - 09.50<br/>Jumat, 10.00 - 10.50</td>
                                                        <td>
                                                            <input type="radio" id="2" class="radio" name="1" value="2" />
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <!--END SECTION MATKUL-->

                                        <div class="justify-content-left"><h5>CSC1234567 - Jaringan Komunikasi Data</h5></div>

                                        <div class="tab-content text-center">
                                            <div class="tab-pane active" id="home1" role="tabpanel">
                                                <table class="table table-striped table-responsive">
                                                    <thead>
                                                    <tr>
                                                        <th class="text-center">Kelas</th>
                                                        <th class="text-center">Dosen</th>
                                                        <th class="text-center">Ruangan</th>
                                                        <th class="text-center">Jadwal</th>
                                                        <th class="text-center"></th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <td>A</td>
                                                        <td>Rizal Fathoni Aji, M.Kom</td>
                                                        <td>Aula</td>
                                                        <td>Senin, 08.00 - 09.50 <br/> Rabu, 10.00 - 10.50</td>
                                                        <td>
                                                            <input type="radio" id="3" class="radio" name="2" value="3" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>B</td>
                                                        <td>Heri Kurniawan, M.Kom</td>
                                                        <td>2307 <br/>2303</td>
                                                        <td>Senin, 08.00 - 09.50<br/>Rabu, 10.00 - 10.50</td>
                                                        <td>
                                                            <input type="radio" id="4" class="radio" name="2" value="4" />
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <input type="hidden" id="id_mahasiswa" name="id_mahasiswa" th:value="${irs.id_mahasiswa}" />
                                        <input type="hidden" id="id_term" name="id_term" th:value="${irs.id_term}" />
                                        <input type="hidden" id="kelas" name="kelas" th:value="${kelas}" />
                                    </form>
                                    <!--END SECTION MATKUL-->

                                    <div class="text-center"><button class="btn btn-primary btn-round" id="submit" type="button">Simpan</button></div>
                                </div>
                            </div>
                        </div>             
                    </div>                    
                </div>
            </div>
        </div>
        <footer class="footer footer-default">
            <div class="container">
                <nav>
                    <ul>
                        <li>
                            <a href="http://presentation.creative-tim.com">
                                About Us
                            </a>
                        </li>
                    </ul>
                </nav>
                <p th:text="${irs}"></p>
                <div class="copyright">
                    &copy;
                    <script>
                        document.write(new Date().getFullYear())
                    </script>, Designed by
                    <a href="http://www.invisionapp.com" target="_blank">Invision</a>. Coded by
                    <a href="https://www.creative-tim.com" target="_blank">Creative Tim</a>.
                </div>
            </div>
        </footer>
    </div>
</body>
<!--   Core JS Files   -->
<script src="/js/core/jquery.3.2.1.min.js" type="text/javascript"></script>
<script src="/js/core/popper.min.js" type="text/javascript"></script>
<script src="/js/core/bootstrap.min.js" type="text/javascript"></script>
<!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
<script src="/js/plugins/bootstrap-switch.js"></script>
<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="/js/plugins/nouislider.min.js" type="text/javascript"></script>
<!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
<script src="/js/plugins/bootstrap-datepicker.js" type="text/javascript"></script>
<!-- Control Center for Now Ui Kit: parallax effects, scripts for the example pages etc -->
<script src="/js/now-ui-kit.js?v=1.1.0" type="text/javascript"></script>

<script>
    $(document).ready(function () {
        var radio = {};

        var irs_list = $('#kelas').val().split(",");
        for(var kelas in irs_list){
            $('#' + irs_list[kelas]).prop("checked", true);
            radio[$('#' + irs_list[kelas]).attr('name')] = $('#' + irs_list[kelas]).val();
        }

        $('.radio').click(function () {
            if(radio[$(this).attr('name')] == $(this).attr('value')){
                $(this).prop('checked', false);
                delete radio[$(this).attr('name')];
            } else {
                radio[$(this).attr('name')] = $(this).attr('value');
            }

            console.log(radio);
        });

        $('#submit').click(function () {
            var submit = new Array();

            for (var irs in radio) {
                submit.push(radio[irs]);
            }

            var id_mahasiswa = $('#id_mahasiswa').val();
            var id_term = $('#id_term').val();

            $.ajax({
                type: 'POST',
                url: "/irs/update",
                dataType: "html",
                data: {
                    irs_list: submit.toString(),
                    id_mahasiswa: id_mahasiswa,
                    id_term: id_term
                },
                success: function (response) {
                    console.log(response + "asdasdasd");
                    window.location.replace("/irs/view/" + response);
                }
            });
        });
    });
</script>

</html>